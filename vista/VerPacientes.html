<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ver pacientes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
</head>

<body>
  <h1>Lista de pacientes</h1>
  <div class="navbar navbar-expand-lg bg-light">
    <nav class="nav nav-tabs">
        <a class="nav-link active" aria-current="page" href="http://localhost:3000/agregarPaciente">Agregar Paciente</a>
        <a class="nav-link active" aria-current="page"  href="http://localhost:3000/agregarDoctor">Agregar Doctor</a>
        <a class="nav-link active" aria-current="page" href="http://localhost:3000/VerDoctores">ver Doctores</a>
        <a class="nav-link active" aria-current="page" href="http://localhost:3000/VerPacientes">ver Pacientes</a>
        <a class="nav-link active" aria-current="page" href="http://localhost:3000/AgregarTurno">Asignar Turno</a>
        <a class="nav-link active" aria-current="page" href="http://localhost:3000/MostarTurno">listar turno</a>
        
    </nav>
 </div>
   <form action='http://localhost:3000/VerPacientes' method="GET">
    <table class="table table-striped">
    <thead>
      <tr>
        <th>NÂ°</th>
        <th>Nombre</th>
        <th>Apellido</th>
        <th>Edad</th>
        <th>DNI</th>
        <th>Obra Social</th>
      </tr>
    </thead>
    <tbody id="table">

    </tbody>
   </form>
   
   </table>
   <script>
   var url = 'http://localhost:3000/VerPacientesTable';
   fetch(url)
        .then(response => response.json())
        .then(listarPacientes => mostrarPacientes(listarPacientes))
        .catch(error => console.log(error));

        const mostrarPacientes = (pacientes)=>{
            var pacientesTabla= "";

            console.log(pacientes[0]);
            
            for(var i=0; i<pacientes.length; i++){
                pacientesTabla = pacientesTabla + "<tr><td>" + i + "</td><td>"+ pacientes[i].nombre + "</td><td>"+ pacientes[i].apellido + "</td><td>"+ pacientes[i].edad + "</td><td>"+ pacientes[i].dni + "</td><td>"+ pacientes[i].obrasocial+ "</td><td>"+"</tr>";
            }
            
            document.getElementById('table').innerHTML=pacientesTabla;
 consolog(pacientes);
        };
  
  </script>
</body>
</html>