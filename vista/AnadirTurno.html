<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>asignar turno</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
</head>


<body>
    <h1>Gestionar Turno</h1>
    <div class="navbar navbar-expand-lg bg-light">
      <nav class="nav nav-tabs">
          <a class="nav-link active" aria-current="page" href="http://localhost:3000/agregarPaciente">Agregar Paciente</a>
          <a class="nav-link active" aria-current="page"  href="http://localhost:3000/agregarDoctor">Agregar Doctor</a>
          <a class="nav-link active" aria-current="page" href="http://localhost:3000/VerDoctores">ver Doctores</a>
          <a class="nav-link active" aria-current="page" href="http://localhost:3000/VerPacientes">ver Pacientes</a>
          <a class="nav-link active" aria-current="page" href="http://localhost:3000/AgregarTurno">Asignar Turno</a>
          <a class="nav-link active" aria-current="page" href="http://localhost:3000/MostarTurno">listar turno</a>
          
      </nav>
   </div>

    <form action="http://localhost:3000/agregarTurno" method="post">
    <p><label>Fecha</label><label class="col-sm-2 col-form-label"><input type="date" name="fecha" class="form-control"></label></p>
    <p><label>Hora</label><label class="col-sm-2 col-form-label"><input type="time" name="hora" class="form-control"></label></p>
    <div id="table"></div>
  <br>
      <div id="tables"></div>
        <br>
    <input type="submit" value="send" >
</form>
    <script>
         var url = 'http://localhost:3000/VerDoctoresTable';
         fetch(url)
              .then(response => response.json())
              .then(listarDoctores => mostrarDoctores(listarDoctores))
              .catch(error => console.log(error));
      
              const mostrarDoctores = (doctores)=>{
                  var doctoresTabla= "<option selected>selecione un doctor</option>";
      
                  console.log(doctores);
                  
                  for(var i=0; i<doctores.length; i++){
                    doctoresTabla = doctoresTabla+ "<option value='"+doctores[i].profesion+"'>"+ doctores[i].profesion +"</option>";
                 
                }
                  doctoresTabla = '<select name="profesion" class="form-select" aria-label="Default select example">'+doctoresTabla+'</select>';
                  document.getElementById('tables').innerHTML=doctoresTabla;
       
              };
              
              var url = 'http://localhost:3000/VerPacientesTable';
         fetch(url)
              .then(response => response.json())
              .then(listarPacientes => mostrarPacientes(listarPacientes))
              .catch(error => console.log(error));
      
              const mostrarPacientes = (pacientes)=>{
                  var pacientesTabla= "<option selected>selecione un paciente</option>";
      
                  console.log(pacientes);
                  
                  for(var i=0; i<pacientes.length; i++){
                    pacientesTabla= pacientesTabla+ "<option value='"+pacientes[i].nombre+" "+pacientes[i].apellido+"'>"+ pacientes[i].nombre +" "+pacientes[i].apellido+"</option>";
                 
                }
                  pacientesTabla = '<select name="names"class="form-select" aria-label="Default select example">'+pacientesTabla+'</select>';
                  document.getElementById('table').innerHTML=pacientesTabla;
       
              };
        
        
        </script>
       
</body>
</html>